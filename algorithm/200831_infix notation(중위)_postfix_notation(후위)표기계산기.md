### 중위표기법, 후위표기법 계산



### 중위표기법 계산



* 연산자는 stack에 push
* 피 연산자는 또다른 리스트(후위표기식 작성할 리스트)에 출력



![image](200831_infix notation(중위)_postfix_notation(후위)표기계산기.assets/image.png)

 #### 우선순위 = 숫자가 클수록 우선순위가 높은 것.

`icp` \#토큰 상태일 때, 즉 스택 넣기 전 바깥에서 우선순위

> icp = {'*':2, '+':1, '(':3} 

`isp` \#스택 안에서의 우선순위

> isp = {'*':2, '+':1, '(':0} 



* 현재 토큰보다 stack 맨 위의 값이 우선순위가 높으면(같은 것도 포함), pop()

* 현재 토큰이 stack의 맨 위 값보다 우선순위가 낮으면, push()

  > 쉽게 생각해서, 우선순위가 높은 것이 push 로 들어가서 stack에서 낮은 애(stack의 top) 깔고 앉는거다.
  > 우선순위 낮은 토큰이 stack에 들어가려고하면 못 깔고 앉으니까 우선순위 높은 애(stack의 top)가 pop해야 되는 것
  > 즉 넣으려는 토크보다 우선순위가 낮은 애가 나올 때까지 stack에서 계속 pop



* )는 (가 나올 때까지 pop
* 스택 밖에서 왼쪽 괄호(는 우선순위가 가장 높지만, 스택 안에서의 왼쪽 괄호는 우선순위가 가장 낮다.



#### 구현

#### 중위표기법을 후위표기법으로 바꾼다.
ex. A + B * C -D   -> ABC*+D-







### 후위표기법 계산 - 중위보다 쉬움

* 피연산자를 만나면 스택에 push

* 연산자를 만나면 필요한 만큼의 피연산자를 스택에서 pop하여 연산하고, 연산결과를 다시 스택에  push 한다.

  > 예를 들어 -면, 이항연산자로서 2개가 필요하니까 피연산자를 2개 꺼낸다.
  >
  > 이때 주의사항은, 먼저 꺼낸것이 뒤로 가야한다.!
  >
  > 즉 스택에 2 8 들어있어서 8이 먼저 꺼내지면,
  >
  > 2 -8 로 해야함! 
  >
  > 곱하기랑 빼기할 때 순서 주의

* 수식이 끝나면, 마지막으로 스택을 pop하여 출력한다.





### 문자열로 된 계산식이 주어질 때, 스택을 이용하여 이 계산식의 값을 계산

#### 문자열 수식 계산의 일반적인 방법

```
step1 중위표기법의 수식을 후위 표기법으로 변경한다.(스택이용)
step2 후위표기법의 수식을 스택을 이용하여 계산한다.
```



### 중위 / 후위 계산 차이

* 중위표기법: 연산자를 push한다.
* 후위표기법: 피연산자를 push 한다. 





